

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Understand shape of variables (Univariate) &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'glims_notebooks/GLIMS_20230716/univariate';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../introglims.html">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../introglims.html">
                    Introduction: GLIMS EDA
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../observe.html">Observe Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../organize.html">Organize Variables</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fglims_notebooks/GLIMS_20230716/univariate.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/glims_notebooks/GLIMS_20230716/univariate.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Understand shape of variables (Univariate)</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#categorical-id">Categorical - id</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-glaciers">Count Glaciers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resolve-discrepancies">Resolve Discrepancies</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#compare-summary-statistics">Compare Summary Statistics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-analyses">Count Analyses</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#categorical-non-id">Categorical - non-id</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#continuous-t">Continuous - T</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#continuous-elevation">Continuous - Elevation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#continuous-area">Continuous - Area</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="understand-shape-of-variables-univariate">
<h1>Understand shape of variables (Univariate)<a class="headerlink" href="#understand-shape-of-variables-univariate" title="Permalink to this heading">#</a></h1>
<section id="categorical-id">
<h2>Categorical - id<a class="headerlink" href="#categorical-id" title="Permalink to this heading">#</a></h2>
<section id="count-glaciers">
<h3>Count Glaciers<a class="headerlink" href="#count-glaciers" title="Permalink to this heading">#</a></h3>
<p>Verify how many glaciers there are, evaluating the integrity of ID categories.</p>
<p>The points data provides an expected count.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Basic Statistic</p></th>
<th class="head"><p>Points Data</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Number of glaciers</p></td>
<td><p>328116 (glacial_id)</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import libraries</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="c1"># Check working directory</span>
<span class="n">current_directory</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Current Directory:&quot;</span><span class="p">,</span> <span class="n">current_directory</span><span class="p">)</span>

<span class="c1"># Ask pandas to display all columns</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_columns&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Current Directory: /Users/yun/Documents/GLIMS/glims_notebooks/GLIMS_20230716
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load Esri shapefiles as geopandas dataframes</span>
<span class="n">points</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;GLIMS_20230716/glims_download_13173/glims_points.shp&quot;</span><span class="p">)</span>
<span class="n">polygons</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;GLIMS_20230716/glims_download_13173/glims_polygons.shp&quot;</span><span class="p">)</span>
<span class="c1">#polygons2 = gpd.read_file(&quot;GLIMS_20230716/polygons2.csv&quot;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">CPLE_OpenFailedError</span><span class="g g-Whitespace">                      </span>Traceback (most recent call last)
<span class="nn">File fiona/_shim.pyx:83,</span> in <span class="ni">fiona._shim.gdal_open_vector</span><span class="nt">()</span>

<span class="nn">File fiona/_err.pyx:291,</span> in <span class="ni">fiona._err.exc_wrap_pointer</span><span class="nt">()</span>

<span class="ne">CPLE_OpenFailedError</span>: GLIMS_20230716/glims_download_13173/glims_points.shp: No such file or directory

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="ne">DriverError</span><span class="g g-Whitespace">                               </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># Load Esri shapefiles as geopandas dataframes</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">points</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;GLIMS_20230716/glims_download_13173/glims_points.shp&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">polygons</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s2">&quot;GLIMS_20230716/glims_download_13173/glims_polygons.shp&quot;</span><span class="p">)</span>

<span class="nn">File /Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/geopandas/io/file.py:253,</span> in <span class="ni">_read_file</span><span class="nt">(filename, bbox, mask, rows, engine, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">250</span>     <span class="n">path_or_bytes</span> <span class="o">=</span> <span class="n">filename</span>
<span class="g g-Whitespace">    </span><span class="mi">252</span> <span class="k">if</span> <span class="n">engine</span> <span class="o">==</span> <span class="s2">&quot;fiona&quot;</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">253</span>     <span class="k">return</span> <span class="n">_read_file_fiona</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">254</span>         <span class="n">path_or_bytes</span><span class="p">,</span> <span class="n">from_bytes</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="n">bbox</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="n">rows</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="g g-Whitespace">    </span><span class="mi">255</span>     <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">256</span> <span class="k">elif</span> <span class="n">engine</span> <span class="o">==</span> <span class="s2">&quot;pyogrio&quot;</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">257</span>     <span class="k">return</span> <span class="n">_read_file_pyogrio</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">258</span>         <span class="n">path_or_bytes</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="n">bbox</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="n">rows</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="g g-Whitespace">    </span><span class="mi">259</span>     <span class="p">)</span>

<span class="nn">File /Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/geopandas/io/file.py:294,</span> in <span class="ni">_read_file_fiona</span><span class="nt">(path_or_bytes, from_bytes, bbox, mask, rows, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">291</span>     <span class="n">reader</span> <span class="o">=</span> <span class="n">fiona</span><span class="o">.</span><span class="n">open</span>
<span class="g g-Whitespace">    </span><span class="mi">293</span> <span class="k">with</span> <span class="n">fiona_env</span><span class="p">():</span>
<span class="ne">--&gt; </span><span class="mi">294</span>     <span class="k">with</span> <span class="n">reader</span><span class="p">(</span><span class="n">path_or_bytes</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="k">as</span> <span class="n">features</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">295</span> 
<span class="g g-Whitespace">    </span><span class="mi">296</span>         <span class="c1"># In a future Fiona release the crs attribute of features will</span>
<span class="g g-Whitespace">    </span><span class="mi">297</span>         <span class="c1"># no longer be a dict, but will behave like a dict. So this should</span>
<span class="g g-Whitespace">    </span><span class="mi">298</span>         <span class="c1"># be forwards compatible</span>
<span class="g g-Whitespace">    </span><span class="mi">299</span>         <span class="n">crs</span> <span class="o">=</span> <span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">300</span>             <span class="n">features</span><span class="o">.</span><span class="n">crs</span><span class="p">[</span><span class="s2">&quot;init&quot;</span><span class="p">]</span>
<span class="g g-Whitespace">    </span><span class="mi">301</span>             <span class="k">if</span> <span class="n">features</span><span class="o">.</span><span class="n">crs</span> <span class="ow">and</span> <span class="s2">&quot;init&quot;</span> <span class="ow">in</span> <span class="n">features</span><span class="o">.</span><span class="n">crs</span>
<span class="g g-Whitespace">    </span><span class="mi">302</span>             <span class="k">else</span> <span class="n">features</span><span class="o">.</span><span class="n">crs_wkt</span>
<span class="g g-Whitespace">    </span><span class="mi">303</span>         <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">305</span>         <span class="c1"># handle loading the bounding box</span>

<span class="nn">File /Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/fiona/env.py:408,</span> in <span class="ni">ensure_env_with_credentials.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">405</span> <span class="nd">@wraps</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">406</span> <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">407</span>     <span class="k">if</span> <span class="n">local</span><span class="o">.</span><span class="n">_env</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">408</span>         <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">409</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">410</span>         <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">str</span><span class="p">):</span>

<span class="nn">File /Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/fiona/__init__.py:264,</span> in <span class="ni">open</span><span class="nt">(fp, mode, driver, schema, crs, encoding, layer, vfs, enabled_drivers, crs_wkt, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">261</span>     <span class="n">path</span> <span class="o">=</span> <span class="n">parse_path</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">263</span> <span class="k">if</span> <span class="n">mode</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">264</span>     <span class="n">c</span> <span class="o">=</span> <span class="n">Collection</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">encoding</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">265</span>                    <span class="n">layer</span><span class="o">=</span><span class="n">layer</span><span class="p">,</span> <span class="n">enabled_drivers</span><span class="o">=</span><span class="n">enabled_drivers</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">266</span> <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;w&#39;</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">267</span>     <span class="k">if</span> <span class="n">schema</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">268</span>         <span class="c1"># Make an ordered dict of schema properties.</span>

<span class="nn">File /Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/fiona/collection.py:162,</span> in <span class="ni">Collection.__init__</span><span class="nt">(self, path, mode, driver, schema, crs, encoding, layer, vsi, archive, enabled_drivers, crs_wkt, ignore_fields, ignore_geometry, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">160</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;r&#39;</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">161</span>     <span class="bp">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
<span class="ne">--&gt; </span><span class="mi">162</span>     <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">163</span> <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">164</span>     <span class="bp">self</span><span class="o">.</span><span class="n">session</span> <span class="o">=</span> <span class="n">WritingSession</span><span class="p">()</span>

<span class="nn">File fiona/ogrext.pyx:540,</span> in <span class="ni">fiona.ogrext.Session.start</span><span class="nt">()</span>

<span class="nn">File fiona/_shim.pyx:90,</span> in <span class="ni">fiona._shim.gdal_open_vector</span><span class="nt">()</span>

<span class="ne">DriverError</span>: GLIMS_20230716/glims_download_13173/glims_points.shp: No such file or directory
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Remove submission-related columns</span>
<span class="n">polygons1</span> <span class="o">=</span> <span class="n">polygons</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span>
    <span class="s1">&#39;rec_status&#39;</span><span class="p">,</span> <span class="s1">&#39;wgms_id&#39;</span><span class="p">,</span> <span class="s1">&#39;local_id&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;subm_id&#39;</span><span class="p">,</span> <span class="s1">&#39;release_dt&#39;</span><span class="p">,</span> <span class="s1">&#39;proc_desc&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;rc_id&#39;</span><span class="p">,</span> <span class="s1">&#39;geog_area&#39;</span><span class="p">,</span> <span class="s1">&#39;chief_affl&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;loc_unc_x&#39;</span><span class="p">,</span> <span class="s1">&#39;loc_unc_y&#39;</span><span class="p">,</span> <span class="s1">&#39;glob_unc_x&#39;</span><span class="p">,</span> <span class="s1">&#39;glob_unc_y&#39;</span><span class="p">,</span>
    <span class="s1">&#39;submitters&#39;</span><span class="p">,</span> <span class="s1">&#39;analysts&#39;</span>
<span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Remove non-glacier entities.</span>
<span class="n">polygons2</span> <span class="o">=</span> <span class="n">polygons1</span><span class="p">[</span><span class="n">polygons1</span><span class="o">.</span><span class="n">line_type</span><span class="o">==</span><span class="s2">&quot;glac_bound&quot;</span><span class="p">]</span>
<span class="c1">#polygons2.line_type.value_counts()</span>
<span class="n">polygons2</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;line_type&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Verify that each point feature represents a unique glacier</span>

<span class="c1"># Number of points entries</span>
<span class="nb">print</span><span class="p">(</span><span class="n">points</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># Unique points IDs</span>
<span class="n">points</span><span class="o">.</span><span class="n">glacier_id</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>328116
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>328116
</pre></div>
</div>
</div>
</div>
<p>In the glacial-subsetted polygons data,</p>
<ul class="simple">
<li><p>Relatively few glaciers have names; this category may be trivial for now.</p></li>
<li><p>polygons glac_id &lt; points glacial_id. Perhaps some points were lost when subsetting glacial entities.</p></li>
<li><p>glac_id &lt;&lt; (geometries &lt; anlyt_id &lt; row entries). Perhaps many glaciers are analyzed more than once. Perhaps new analyses often but not always produce new geometries, reflecting changes in glacier size. Perhaps some glaciers are represented by more than one polygon.</p></li>
</ul>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Basic Statistic</p></th>
<th class="head"><p>Points Data</p></th>
<th class="head"><p>Glacial Polygons Data</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Number of glaciers</p></td>
<td><p>328116 (glacial_id)</p></td>
<td><p>328112 (glac_id)</p></td>
</tr>
<tr class="row-odd"><td><p>Number of glacier analyses (snapshots)</p></td>
<td><p>-</p></td>
<td><p>565887 (anlys_id)</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Row entries</span>
<span class="nb">print</span><span class="p">(</span><span class="n">polygons2</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># Unique ids</span>
<span class="n">polygons2</span><span class="p">[[</span><span class="s1">&#39;anlys_id&#39;</span><span class="p">,</span> <span class="s1">&#39;glac_id&#39;</span><span class="p">,</span> <span class="s1">&#39;glac_name&#39;</span><span class="p">,</span> <span class="s1">&#39;geometry&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>564112
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>anlys_id     557878
glac_id      328112
glac_name     35111
geometry     528652
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>However, in the non-subsetted polygons data including non-glacial entities, the number of unique glac_id is even closer to the expected glacier count.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Basic Statistic</p></th>
<th class="head"><p>Points Data</p></th>
<th class="head"><p>Polygons Data</p></th>
<th class="head"><p>Glacial Polygons Data</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Number of glaciers</p></td>
<td><p>328116 (glacial_id)</p></td>
<td><p>328115 (glac_id)</p></td>
<td><p>328112 (glac_id)</p></td>
</tr>
<tr class="row-odd"><td><p>Number of glacier analyses (snapshots)</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>565887 (anlys_id)</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Row entries</span>
<span class="nb">print</span><span class="p">(</span><span class="n">polygons</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="n">polygons</span><span class="p">[[</span><span class="s1">&#39;anlys_id&#39;</span><span class="p">,</span> <span class="s1">&#39;glac_id&#39;</span><span class="p">,</span> <span class="s1">&#39;glac_name&#39;</span><span class="p">,</span> <span class="s1">&#39;geometry&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>565887
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>anlys_id     557884
glac_id      328115
glac_name     35112
geometry     530099
dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="resolve-discrepancies">
<h3>Resolve Discrepancies<a class="headerlink" href="#resolve-discrepancies" title="Permalink to this heading">#</a></h3>
<p>Further inspection identifies the discrepancies. Perhaps they are yet to be studied further or had melted by the time they were researched (glacial area = 0).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># points data entries not in polygons2 data</span>
<span class="n">unaccounted2</span> <span class="o">=</span> <span class="n">points</span><span class="p">[</span><span class="o">~</span><span class="n">points</span><span class="p">[</span><span class="s1">&#39;glacier_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">polygons2</span><span class="p">[</span><span class="s1">&#39;glac_id&#39;</span><span class="p">])]</span>

<span class="c1"># map points data entries not in polygons2 data</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">);</span>
<span class="n">unaccounted2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;red&#39;</span><span class="p">);</span>

<span class="n">unaccounted2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>glacier_id</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>14810</th>
      <td>G013275E47098N</td>
      <td>POINT Z (13.27500 47.09800 0.00000)</td>
    </tr>
    <tr>
      <th>150588</th>
      <td>G087657E50098N</td>
      <td>POINT Z (87.65700 50.09800 0.00000)</td>
    </tr>
    <tr>
      <th>258013</th>
      <td>G286571E47471S</td>
      <td>POINT Z (-73.42900 -47.47100 0.00000)</td>
    </tr>
    <tr>
      <th>259079</th>
      <td>G286669E47411S</td>
      <td>POINT Z (-73.33100 -47.41100 0.00000)</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/97bbbd89c71a59b39429fc88972fdc9850fda6c19298c3d3b1efbb7e699e9cba.png" src="../../_images/97bbbd89c71a59b39429fc88972fdc9850fda6c19298c3d3b1efbb7e699e9cba.png" />
</div>
</div>
<p>Here is the only glacier with a representative point but no polygon features.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># points data entries not in polygons data</span>
<span class="n">unaccounted</span> <span class="o">=</span> <span class="n">points</span><span class="p">[</span><span class="o">~</span><span class="n">points</span><span class="p">[</span><span class="s1">&#39;glacier_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">polygons</span><span class="p">[</span><span class="s1">&#39;glac_id&#39;</span><span class="p">])]</span>

<span class="c1"># map points data entries not in polygons data</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">);</span>
<span class="n">unaccounted</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;red&#39;</span><span class="p">);</span>

<span class="n">unaccounted</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>glacier_id</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>150588</th>
      <td>G087657E50098N</td>
      <td>POINT Z (87.65700 50.09800 0.00000)</td>
    </tr>
  </tbody>
</table>
</div></div><img alt="../../_images/5f12ac8cd1865e4606849cf440bd4eedefe8d316c52cc384294394eee9f6feba.png" src="../../_images/5f12ac8cd1865e4606849cf440bd4eedefe8d316c52cc384294394eee9f6feba.png" />
</div>
</div>
<p>And here are the glaciers without glacial polygons, only nunatek polygons.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># glac_id that were lost in the subsetting</span>
<span class="n">unnacounted21</span> <span class="o">=</span> <span class="n">polygons</span><span class="p">[</span><span class="n">polygons</span><span class="o">.</span><span class="n">glac_id</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">unaccounted2</span><span class="o">.</span><span class="n">glacier_id</span><span class="p">)]</span>
<span class="n">unnacounted21</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>line_type</th>
      <th>anlys_id</th>
      <th>glac_id</th>
      <th>anlys_time</th>
      <th>area</th>
      <th>db_area</th>
      <th>width</th>
      <th>length</th>
      <th>primeclass</th>
      <th>min_elev</th>
      <th>mean_elev</th>
      <th>max_elev</th>
      <th>src_date</th>
      <th>rec_status</th>
      <th>glac_name</th>
      <th>wgms_id</th>
      <th>local_id</th>
      <th>glac_stat</th>
      <th>subm_id</th>
      <th>release_dt</th>
      <th>proc_desc</th>
      <th>rc_id</th>
      <th>geog_area</th>
      <th>chief_affl</th>
      <th>loc_unc_x</th>
      <th>loc_unc_y</th>
      <th>glob_unc_x</th>
      <th>glob_unc_y</th>
      <th>submitters</th>
      <th>analysts</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>279735</th>
      <td>intrnl_rock</td>
      <td>346955.0</td>
      <td>G013275E47098N</td>
      <td>2012-06-30T00:00:00</td>
      <td>0.00</td>
      <td>0.098722</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2012-06-30T00:00:00</td>
      <td>okay</td>
      <td>Gstss Kees E,</td>
      <td>None</td>
      <td>None</td>
      <td>exists</td>
      <td>603.0</td>
      <td>2016-03-07T09:00:00</td>
      <td>Where no lidar data were available,the GI 2 gl...</td>
      <td>34.0</td>
      <td>Austrian Alps</td>
      <td>Universitaet Innsbruck</td>
      <td>50</td>
      <td>50</td>
      <td>30</td>
      <td>30</td>
      <td>Fischer, Andrea</td>
      <td>Fischer, Andrea</td>
      <td>POLYGON Z ((13.28654 47.09805 0.00000, 13.2865...</td>
    </tr>
    <tr>
      <th>351409</th>
      <td>intrnl_rock</td>
      <td>2152.0</td>
      <td>G286571E47471S</td>
      <td>2005-07-14T23:33:02</td>
      <td>1.29</td>
      <td>1.273130</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2001-03-11T00:00:00</td>
      <td>okay</td>
      <td>None</td>
      <td>50</td>
      <td>NPI-50</td>
      <td>None</td>
      <td>100.0</td>
      <td>2005-12-20T19:43:58</td>
      <td>Manually digitised; A manually-based procedure...</td>
      <td>20.0</td>
      <td>Chilean glaciers, between -18 and -56 degrees ...</td>
      <td>Universidad de Chile</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Bown, Francisca</td>
      <td>Rivera, Andres</td>
      <td>POLYGON Z ((-73.42454 -47.46965 0.00000, -73.4...</td>
    </tr>
    <tr>
      <th>353371</th>
      <td>intrnl_rock</td>
      <td>2154.0</td>
      <td>G286669E47411S</td>
      <td>2005-07-14T23:33:02</td>
      <td>1.00</td>
      <td>0.999455</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2001-03-11T00:00:00</td>
      <td>okay</td>
      <td>None</td>
      <td>55</td>
      <td>NPI-55</td>
      <td>None</td>
      <td>100.0</td>
      <td>2005-12-20T19:43:58</td>
      <td>Manually digitised; A manually-based procedure...</td>
      <td>20.0</td>
      <td>Chilean glaciers, between -18 and -56 degrees ...</td>
      <td>Universidad de Chile</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Bown, Francisca</td>
      <td>Rivera, Andres</td>
      <td>POLYGON Z ((-73.33914 -47.41311 0.00000, -73.3...</td>
    </tr>
    <tr>
      <th>353372</th>
      <td>intrnl_rock</td>
      <td>2154.0</td>
      <td>G286669E47411S</td>
      <td>2005-07-14T23:33:02</td>
      <td>1.00</td>
      <td>0.999455</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2001-03-11T00:00:00</td>
      <td>okay</td>
      <td>None</td>
      <td>55</td>
      <td>NPI-55</td>
      <td>None</td>
      <td>100.0</td>
      <td>2005-12-20T19:43:58</td>
      <td>Manually digitised; A manually-based procedure...</td>
      <td>20.0</td>
      <td>Chilean glaciers, between -18 and -56 degrees ...</td>
      <td>Universidad de Chile</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Bown, Francisca</td>
      <td>Rivera, Andres</td>
      <td>POLYGON Z ((-73.33764 -47.41012 0.00000, -73.3...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Considering these glaciers to have existed at least at some point, the points data provides the most complete count of glaciers.</p>
</section>
<section id="compare-summary-statistics">
<h3>Compare Summary Statistics<a class="headerlink" href="#compare-summary-statistics" title="Permalink to this heading">#</a></h3>
<p>These counts can be compared with the GLIMS <a class="reference external" href="http://glims.colorado.edu/glacierdata/db_summary_stats.php">Summary Statistics</a> page (unknown date of last update, accessed Aug 3, 2023).</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Basic Statistic</p></th>
<th class="head"><p>EDA Counts</p></th>
<th class="head"><p>Summary Statistics Report</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Number of glaciers</p></td>
<td><p>328116 (points glacial_id)</p></td>
<td><p>444740 (200,000)</p></td>
</tr>
<tr class="row-odd"><td><p>Number of glacier analyses (snapshots)</p></td>
<td><p>565887 (polygons anlys_id)</p></td>
<td><p>699217</p></td>
</tr>
</tbody>
</table>
<p>The page notes that some glaciers were double-counted by having multiple glacier ID, that this problem would eventually be fixed, and that 200,000 was a reasonable estimate for the number of glaciers on earth. This may explain why the counts of this EDA are lower, if its data is more recent.</p>
</section>
<section id="count-analyses">
<h3>Count Analyses<a class="headerlink" href="#count-analyses" title="Permalink to this heading">#</a></h3>
<p>The page also states that 173148 glaciers have multi-temporal coverage. This means many glaciers were analyzed more than once, an explanation for glac_id &lt;&lt; (geometries &lt; anlyt_id &lt; row entries). To demonstrate:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># EDA</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">565887</span> <span class="o">-</span> <span class="mi">173148</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u2248</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">328116</span><span class="p">)</span>

<span class="c1"># GLIMS Summary Statistics Report</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">699217</span> <span class="o">-</span> <span class="mi">173148</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\u2248</span><span class="s2">&quot;</span><span class="p">,</span> <span class="mi">565887</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>392739  328116
526069  565887
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># See some recurring glacier ids</span>
<span class="n">polygons2</span><span class="o">.</span><span class="n">glac_id</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>G302228E64270S    75
G299054E63854S    33
G068799E49603S    29
G008010E46588N    22
G011972E47060N    21
                  ..
G285246E81397N     1
G286657E80112N     1
G280384E81976N     1
G288449E80529N     1
G278941E82406N     1
Name: glac_id, Length: 328112, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Investigate one of the recurring glacier ids.</span>
<span class="c1"># Each of its rows are unique - in which fields do they differ?</span>
<span class="n">G011972E47060N</span> <span class="o">=</span> <span class="n">polygons2</span><span class="p">[</span><span class="n">polygons2</span><span class="o">.</span><span class="n">glac_id</span><span class="o">==</span><span class="s2">&quot;G011972E47060N&quot;</span><span class="p">]</span>
<span class="n">G011972E47060N</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>264610    False
277696    False
278454    False
278455    False
278456    False
278457    False
278458    False
278459    False
278460    False
280076    False
280077    False
280078    False
280079    False
280080    False
280081    False
280082    False
329749    False
380530    False
556594    False
556595    False
556596    False
dtype: bool
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># In which fields do they differ?</span>
<span class="c1"># Some have different anlys_id and anlys_time entries</span>
<span class="n">G011972E47060N</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The rest have differing geometry</span>
<span class="n">G011972E47060N</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">G011972E47060N</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span> <span class="p">[</span><span class="mi">33</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">stop</span>

<span class="ne">NameError</span>: name &#39;stop&#39; is not defined
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Apparently these disconnected polygons belong to the same glacier ID</span>
<span class="n">G011972E47060Nab</span><span class="o">=</span><span class="n">G011972E47060N</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="n">G011972E47060Nab</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Paired&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Map examples of glacier size changes/stability across analyses</span>

<span class="c1"># Map example of glacier having &gt;1 glacial polygons. </span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="categorical-non-id">
<h2>Categorical - non-id<a class="headerlink" href="#categorical-non-id" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Change datatype of primeclass column</span>
<span class="n">polygons3</span><span class="p">[</span><span class="s1">&#39;primeclass&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">polygons3</span><span class="p">[</span><span class="s1">&#39;primeclass&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
<span class="n">polygons3</span><span class="o">.</span><span class="n">dtypes</span>

<span class="c1"># A few hundred glaciers are gone; None means data NA</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">polygons3</span><span class="o">.</span><span class="n">glac_stat</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">polygons3</span><span class="o">.</span><span class="n">glac_stat</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">);</span>
<span class="n">polygons3</span><span class="o">.</span><span class="n">glac_stat</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

<span class="c1">#Perhaps number of gone glaciers consistent with number of zero area glaciers (db_area)</span>
<span class="n">dimensions</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="c1"># Most glaciers are in the uncertain / misc category</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">polygons3</span><span class="o">.</span><span class="n">primeclass</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">polygons3</span><span class="o">.</span><span class="n">primeclass</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">);</span>
<span class="n">polygons3</span><span class="o">.</span><span class="n">primeclass</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>


<span class="c1">#cats = polygons3[[&#39;primeclass&#39;,&#39;glac_stat&#39;]]</span>
<span class="c1">#cats.groupby([&#39;glac_stat&#39;,&#39;primeclass&#39;]).size().unstack(fill_value=0).plot(kind=&#39;bar&#39;);</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="continuous-t">
<h2>Continuous - T<a class="headerlink" href="#continuous-t" title="Permalink to this heading">#</a></h2>
<p>Which time field(s) are useful and pertain to other measurement fields? The User Guide does not mention anlys_time, while the GLIMS Description of fields describes anlys_time as when analysis was carried out. Both associate src_date with the glacier outlines. Exploration is inconclusive.</p>
<p>According to the <a class="reference external" href="http://glims.colorado.edu/glacierdata/db_summary_stats.php">Summary Statistics</a> page, 173007 out of 444633 glaciers have multitemporal coverage.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">polygons2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">3</span><span class="p">,</span><span class="mi">12</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># convert time columns to datetime format</span>
<span class="n">polygons3</span><span class="o">=</span><span class="n">polygons2</span>
<span class="n">polygons3</span><span class="p">[</span><span class="s1">&#39;anlys_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">polygons3</span><span class="p">[</span><span class="s1">&#39;anlys_time&#39;</span><span class="p">])</span>
<span class="n">polygons3</span><span class="p">[</span><span class="s1">&#39;src_date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">polygons3</span><span class="p">[</span><span class="s1">&#39;src_date&#39;</span><span class="p">])</span>
<span class="n">polygons3</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">polygons3</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">3</span><span class="p">,</span><span class="mi">12</span><span class="p">]]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">polygons3</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,[</span><span class="mi">3</span><span class="p">,</span><span class="mi">12</span><span class="p">]]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># src_date is usually older than anlys_time, but not always. Not sure why.</span>
<span class="n">timely</span> <span class="o">=</span> <span class="n">polygons3</span><span class="p">[</span><span class="s1">&#39;anlys_time&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">polygons3</span><span class="p">[</span><span class="s1">&#39;src_date&#39;</span><span class="p">]</span>
<span class="n">timely</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Visualization confirms src_date tends to be older.</span>
<span class="n">polygons3</span><span class="o">.</span><span class="n">src_date</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;src_date&#39;</span><span class="p">);</span>
<span class="n">polygons3</span><span class="o">.</span><span class="n">anlys_time</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;anlys_time&#39;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;anlys_time&#39;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="continuous-elevation">
<h2>Continuous - Elevation<a class="headerlink" href="#continuous-elevation" title="Permalink to this heading">#</a></h2>
<p>Half of glaciers have elevations around sealevel, and a few below, which seems dubious as they are usually high in the mountains.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elevations</span> <span class="o">=</span> <span class="n">polygons3</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">9</span><span class="p">:</span><span class="mi">12</span><span class="p">]</span>
<span class="n">elevations</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elevations</span><span class="o">.</span><span class="n">hist</span><span class="p">();</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">();</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Elevations have many zero values and a few negative values...?</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">elevations</span><span class="o">.</span><span class="n">min_elev</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Min Elevation&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">elevations</span><span class="o">.</span><span class="n">mean_elev</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Mean Elevation&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">elevations</span><span class="o">.</span><span class="n">max_elev</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Max Elevation&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Elevations&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elevations</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Quite a lot of data near zero (glaciers at sea level)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">violinplot</span><span class="p">(</span><span class="n">elevations</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Nearly half or more are zero</span>
<span class="n">elevations</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">elevations</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Nearly half of the zeros coincide --- real or no data?</span>
<span class="n">elevations</span><span class="p">[</span><span class="n">elevations</span><span class="o">.</span><span class="n">min_elev</span> <span class="o">==</span> <span class="n">elevations</span><span class="o">.</span><span class="n">max_elev</span><span class="p">]</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">elevations</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Negative values only seem to be around -10000 ...?</span>
<span class="n">elevations</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">flierprops</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;markersize&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;markerfacecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">});</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># These few glaciers are below sealevel</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">polygons3</span><span class="p">[</span><span class="n">polygons3</span><span class="o">.</span><span class="n">min_elev</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">polygons3</span><span class="p">[</span><span class="n">polygons3</span><span class="o">.</span><span class="n">mean_elev</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">polygons3</span><span class="p">[</span><span class="n">polygons3</span><span class="o">.</span><span class="n">max_elev</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Most of them coincide</span>
<span class="nb">print</span><span class="p">(</span><span class="n">polygons3</span><span class="p">[</span> <span class="p">(</span><span class="n">polygons3</span><span class="o">.</span><span class="n">min_elev</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">polygons3</span><span class="o">.</span><span class="n">mean_elev</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">polygons3</span><span class="o">.</span><span class="n">max_elev</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">polygons3</span><span class="p">[</span> <span class="p">(</span><span class="n">polygons3</span><span class="o">.</span><span class="n">min_elev</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">polygons3</span><span class="o">.</span><span class="n">mean_elev</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">polygons3</span><span class="o">.</span><span class="n">max_elev</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Where are they? Create of subset of these low glaciers for visualization</span>
<span class="n">submarine</span> <span class="o">=</span> <span class="n">polygons3</span><span class="p">[</span> <span class="p">(</span><span class="n">polygons3</span><span class="o">.</span><span class="n">min_elev</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">polygons3</span><span class="o">.</span><span class="n">mean_elev</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">polygons3</span><span class="o">.</span><span class="n">max_elev</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)]</span>
<span class="n">submarine</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">submarine</span><span class="o">.</span><span class="n">crs</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># They seem to be in NW USA and Nepal. Data errors?</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">world</span><span class="o">.</span><span class="n">boundary</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">edgecolor</span> <span class="o">=</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.2</span><span class="p">);</span>
<span class="n">submarine</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">centroid</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">10</span><span class="p">);</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">submarine</span><span class="o">.</span><span class="n">total_bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="n">submarine</span><span class="o">.</span><span class="n">total_bounds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">submarine</span><span class="o">.</span><span class="n">total_bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="n">submarine</span><span class="o">.</span><span class="n">total_bounds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="continuous-area">
<h2>Continuous - Area<a class="headerlink" href="#continuous-area" title="Permalink to this heading">#</a></h2>
<p>Area of glacier coverage (latest snapshot), km2	1.20007e+06
Note: A good working number for area is approximately 750,000 km2 (not including the ice sheets of Greenland and Antarctica).
Earliest analysis	1750-01-01
Most recent analysis	2021-02-26
Number of glaciers with multi-temporal coverage	173148</p>
<p>db_area, calculated by the NSIDC, seems quite complete.</p>
<p>area may be less complete, and width and length seem highly incomplete.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dimensions</span> <span class="o">=</span> <span class="n">polygons3</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span>
<span class="n">dimensions</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dimensions</span><span class="o">.</span><span class="n">hist</span><span class="p">();</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">();</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dimensions</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># their scales are quite different</span>
<span class="n">dimensions</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">flierprops</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;markersize&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;markerfacecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">});</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># most of the data is around zero</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">dimensions</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="n">flierprops</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;markersize&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>  <span class="s1">&#39;markerfacecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">});</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">violinplot</span><span class="p">(</span><span class="n">dimensions</span><span class="o">.</span><span class="n">area</span><span class="p">);</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">dimensions</span><span class="o">.</span><span class="n">db_area</span><span class="p">,</span> <span class="n">flierprops</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;markersize&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;markerfacecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">});</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">violinplot</span><span class="p">(</span><span class="n">dimensions</span><span class="o">.</span><span class="n">db_area</span><span class="p">);</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">dimensions</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">flierprops</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;markersize&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;markerfacecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">});</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">violinplot</span><span class="p">(</span><span class="n">dimensions</span><span class="o">.</span><span class="n">width</span><span class="p">);</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">dimensions</span><span class="o">.</span><span class="n">length</span><span class="p">,</span> <span class="n">flierprops</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;marker&#39;</span><span class="p">:</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;markersize&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;markerfacecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">});</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">violinplot</span><span class="p">(</span><span class="n">dimensions</span><span class="o">.</span><span class="n">length</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># width and length are almost all zero - because of lack of data?</span>
<span class="c1"># area also has substantial zeros, while db_area has hardly any zeroes</span>
<span class="n">dimensions</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">dimensions</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./glims_notebooks/GLIMS_20230716"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#categorical-id">Categorical - id</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-glaciers">Count Glaciers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resolve-discrepancies">Resolve Discrepancies</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#compare-summary-statistics">Compare Summary Statistics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-analyses">Count Analyses</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#categorical-non-id">Categorical - non-id</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#continuous-t">Continuous - T</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#continuous-elevation">Continuous - Elevation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#continuous-area">Continuous - Area</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
       Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>